'use strict';function e(e){return e&&'object'==typeof e&&'default'in e?e.default:e}Object.defineProperty(exports,'__esModule',{value:!0});var t=e(require('@babel/runtime/helpers/extends')),a=require('react'),r=e(a),n=require('react-redux'),o=e(require('invariant')),s=require('reselect'),i=require('redux'),c=e(require('axios')),l=require('redux-saga/effects'),d=e(require('@babel/runtime/helpers/defineProperty')),u=e(require('hoist-non-react-statics'));require('fast-deep-equal');var p=e(require('query-string')),y=require('redux-saga'),E=e(y);const A=c,f='getInitialProps',_='app/API_LOADING_STATUS',S='every',g='REFETCH_API_QUERY',R='app/containers/',C='is_debounce_api_call',D='debounce_api_call_delay',T='API_CANCEL_ERROR',O='ERROR',h='SUCCESS',b='FINALLY',N='CANCEL',m='REQUEST',k='LOADING',U='UNMOUNT',I='TOAST',P='ERROR',L='SUCCESS',v='CALL',j='CANCEL',K='CUSTOM_TASK',x='Infinite-Handler',$='Data-Handler',w='Delete-Handler',Y='Update-Handler',H='Update-Key-Handler',F='Delete-Key-Handler',M='Toggle-Key-Handler',q='Splice-Data-Handler',G='Callback-Handler',B='Reset-Handler',z='Toast-Handler',X='Error-Handler',V='Loading-Handler',W='Don\'t-Update-Data-Handler',Q='null',J='undefined',Z='string',ee='array',te='boolean',ae='object',re='function',ne='error',oe='symbol',se='generatorFunction',ie='@@@__#_FOR_INTERNAL_PURPOSE_ONLY_#__@@@',ce='useHook',le={HANDLERS:'handlers',NEXT_JS:'nextJS',CREATE_REDUCER:'createReducer',USE_HOOK:ce,USE_HOC_HOOK:'useHocHook',HOOK_WITH_HOC:'hookWithHoc',ALLOW_MAP_STATE_TO_PROPS:'mapStateToProps',GET_INITIAL_PROPS_KEY:'getInitialPropsKey',IS_DEVELOPMENT:'isDevelopment',USE_TYPE:'@@@__#_USE_TYPE___@#@__#_USE_TYPE___@@@'},de={API_END_POINTS:'apiEndPoints',INITIAL_STATE:'initialState',GET_DEFAULT_CONFIG:'getDefaultConfig',DONT_RESET_REDUCER_KEYS:'dontReset',IS_MOBILE:'isMobile',SAGA:'saga',SAGA_CONSTANT:'constantSaga',REDUCER_CONSTANT:'constantReducer',REDUCER:'reducer',AXIOS_INTERCEPTORS:'axiosInterceptors',USE_HOOK:ce,REDUCER_NAME:'name'},ue={TASK_NAME:'name',SUB_KEYS_ARRAY:'subKey',IS_CLEAR_PREVIOUS_DATA_ON_SUCCESS:'clearData',IS_CLEAR_PREVIOUS_DATA_ON_API_START:'clearDataOnStart'},pe='dontUpdateResponseData',ye='dontUpdateSuccessData',Ee='updateCallback',Ae='key',fe='id',_e={TASKS:'tasks',TASK:{KEY:'task',COMMON_TASK_KEYS:ue,INFINITE_DATA_HANDLER:{...ue,LIMIT:'limit',IS_APPEND_DATA_ON_TOP:'isAppendTop',SET_INFINITE_END_KEY_TRUE_OR_FALSE:'setInfiniteEnd',UPDATE_CALLBACK:Ee},DATA_HANDLER:{...ue,UPDATE_CALLBACK:Ee},DELETE_DATA_HANDLER:{...ue,ID_REFERENCE_KEY:Ae,IDS:fe},UPDATE_DATA_HANDLER:{...ue,ID_REFERENCE_KEY:Ae,IDS:fe,UPDATE_CALLBACK:Ee,DONT_UPDATE_RESPONSE_DATA:pe,DONT_UPDATE_SUCCESS_DATA:ye},UPDATE_DATA_KEY_HANDLER:{...ue,ID_REFERENCE_KEY:Ae,IDS:fe,UPDATE_CALLBACK:Ee,DONT_UPDATE_RESPONSE_DATA:pe,DONT_UPDATE_SUCCESS_DATA:ye},DELETE_DATA_KEY_HANDLER:{...ue,ID_REFERENCE_KEY:Ae,IDS:fe,UPDATE_CALLBACK:Ee,DELETE_KEYS_ARRAY:'deleteKey'},TOGGLE_DATA_KEY_HANDLER:{...ue,ID_REFERENCE_KEY:Ae,IDS:fe,UPDATE_CALLBACK:Ee,TOGGLE_KEYS_ARRAY:'toggleKey'},SPLICE_DATA_HANDLER:{...ue,UPDATE_CALLBACK:Ee,SPLICE_VALUE_ARRAY:'spliceKey'},RESET_HANDLER:{TASK_NAME:ue.TASK_NAME},CALLBACK_HANDLER:{TASK_NAME:ue.TASK_NAME,CALLBACK_FUNCTION:'callback'},TOAST_HANDLER:{TASK_NAME:ue.TASK_NAME,TOAST_OBJECT:'toast'},ERROR_HANDLER:{TASK_NAME:ue.TASK_NAME,ERROR_OBJECT:'error',IS_ERROR:'isError'},LOADER_HANDLER:{TASK_NAME:ue.TASK_NAME,IS_LOADING:'loader'},DONT_UPDATE_DATA_HANDLER:{...ue}},FILTER_ARRAY:'filter',DONT_UPDATE_REUCER:'dontUpdateReducer',EXECUTE_UPDATE_STATE_CALLBACK_ON_ERROR:'excuteUpdateStateCallbackOnError',UPDATE_STATE_DATA_REDUCER_KEYS:'updateDataReducerKey',SET_PROXY_FOR:'proxyFor',REQUEST:{KEY:'request',ASYNC_FUNCTION:'asyncFunction',ASYNC_FUNCTION_PARAMS_ARRAY:'asyncFunctionParams',PAYLOAD:'payload',PARAMS:'params',QUERY:'query',DELAY_FUNCTION:'delayFunction',DONT_UPDATE_REDUCER_ON_SUCCESS:'dontUpdateReducerOnSucess',DONT_UPDATE_REDUCER_ON_ERROR:'dontUpdateReducerOnError',AXIOS_INTERCEPTOR:'axios',PARAM_SERIALIZER:'paramsSerializer',API_CANCEL_KEY:'cancelKey',ON_CANCEL_TASK:'onCancelTask',AXIOS_CONFIG:'axiosConfig',API_QUERY_CACHE_KEY:'key',USE_CACHE_DATA:'useCache',IS_ERROR_DATA_HANDLING:'errorDataHandling',IS_CLEAR_DATA_ON_ERROR:'clearDataOnError',IS_POLLING:'polling',IS_ERROR_PARSER:'errorParser',DEFAULT_ERROR_PARSER_FUNCTION:'defaultErrorParser',POLLING_DELAY_COUNT_IN_MS:'delay',MAX_RETRY_COUNT:'retry',POLLING_MAX_COUNT:'pollingCount',START_POLLING_AFTER_DELAY:'callAfterDelay'},CALLBACK:{KEY:'callback',UPDATE_STATE_CALLBACK:'updateStateCallback',SUCCESS_CALLBACK:'successCallback',ERROR_CALLBACK:'errorCallback',SUCCESS_CALLBACK_EXECUTE_AFTER_100_MILLISECONDS:'logoutCallback',FINAL_CALLBACK:'finalCallback',POLLING_CALLBACK:'pollingCallback',CANCEL_CALLBACK:'cancelCallback',UPDATE_CALLBACK:Ee}},Se={TAKE_EVERY:S,API_END_POINTS_CONFIG_DEFAULT_VALUE:{API_URL:void 0,AXIOS_INTERCEPTORS:void 0,API_METHOD:'GET',API_RESPONSE_SUCCESS_STATUS_CODE_KEY:'',API_RESPONSE_SUCCESS_STATUS_CODES:[],API_RESPONSE_SUCCESS_MESSAGE_KEY:'',API_RESPONSE_SUCCESS_DATA_KEY:'',API_RESPONSE_ERROR_DATA_KEY:'error',API_RESPONSE_ERROR_STATUS_CODE_KEY:'',API_RESPONSE_ERROR_MESSAGE_KEY:'',API_ERROR_HANDLER_STATUS_CODES:[],SAGA_EFFECT:'latest'},API_END_POINTS_CONFIG_KEYS:{API_URL:'url',AXIOS_INTERCEPTORS:'axios',API_METHOD:'method',API_RESPONSE_SUCCESS_STATUS_CODE_KEY:'responseStatusCodeKey',API_RESPONSE_SUCCESS_STATUS_CODES:'responseStatusCode',API_RESPONSE_SUCCESS_MESSAGE_KEY:'responseMessageKey',API_RESPONSE_SUCCESS_DATA_KEY:'responseDataKey',API_RESPONSE_ERROR_DATA_KEY:'errorDataKey',API_RESPONSE_ERROR_STATUS_CODE_KEY:'errorStatusKey',API_RESPONSE_ERROR_MESSAGE_KEY:'errorMessageKey',API_ERROR_HANDLER_STATUS_CODES:'errorHandlerStatusCode',DEBOUNCE_API_CALL_DELAY_IN_MS:D,IS_DEBOUNCE_API_CALL:C,SAGA_EFFECT:'effect'},USE_QUERY_CONFIG_KEYS:{REDUCER_NAME:'reducerName',REDUCER_KEYS_ARRAY_OR_OBJECT_OR_STRING:{PARENT_KEY:'key',REDUCER_KEY:'key',REQUIRED_DATA_KEY:'requiredKey',FILTER_ARRAY:'filter',QUERY_DATA_STRING_OR_ARRAY:'initialLoaderqueryState',INITIAL_LOADER_STATE:'initialLoaderState',GET_DEFAULT_DATA_FORMAT:'defaultDataFormat',DEFAULT_DATA_OR_FORMAT:'default'},REDUCER_KEYS_CONFIG:'config',CALLBACK_FUNCTION_RETURN_DATA:'callback',TRIGGER_AFTER_CALLBACK_NO_DATA_RETURN:'callbackSuccess',REFRESH_KEY:'refreshKey'},API_TASK_CONFIG_KEYS:_e,ENVIRONMENT_TYPE:{DEVELOPMENT:'development',PRODUCTION:'production'},INFINITE_DATA_HANDLER:x,DATA_HANDLER:$,DELETE_DATA_HANDLER:w,UPDATE_DATA_HANDLER:Y,UPDATE_DATA_KEY_HANDLER:H,DELETE_DATA_KEY_HANDLER:F,TOGGLE_DATA_KEY_HANDLER:M,SPLICE_DATA_HANDLER:q,RESET_HANDLER:B,CALLBACK_HANDLER:G,TOAST_HANDLER:z,ERROR_HANDLER:X,LOADER_HANDLER:V,DONT_UPDATE_DATA_HANDLER:W,ON_CANCEL_ERROR:T,ON_ERROR:O,ON_SUCCESS:h,ON_FINALLY:b,ON_CANCEL:N,ON_REQUEST:m,ON_LOADING:k,ON_UNMOUNT:U,ON_TOAST:I,ERROR:P,SUCCESS:L,CALL:v,CANCEL:j,CUSTOM:K,TYPE_NULL:Q,TYPE_UNDEFINED:J,TYPE_STRING:Z,TYPE_ARRAY:ee,TYPE_BOOLEAN:te,TYPE_OBJECT:ae,TYPE_FUNCTION:re,TYPE_ERROR:ne,TYPE_SYMBOL:oe,TYPE_GENERATOR_FUNCTION:se},ge=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({},e,t)},Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return a.reduce(((t,a)=>ge(t,'function'==typeof a&&a(e,t)||a)),ge(e))};function Ce(e,t){let a=0,r=e;return function e(){return Array.isArray(r)?t.length-1===a&&+t[a]>=r.slice().length?t.length-1===a?(Array.isArray(r)?r.splice(+t[a],1):delete r[t[a]],r):r:r.slice().map(((n,o)=>+t[a]===o?t.length-1===a?(Array.isArray(r)?r.splice(+t[a],1):delete r[t[a]],Array.isArray(r)?null:r):(r=n,a+=1,e()):n)).filter((e=>e)):t.length-1===a?(delete r[t[a]],r):ge(r,{[t[a]]:(r=r[t[a]],a+=1,e())})}()}function De(e,t){let a=0,r=e;return t.length>0?function e(){return t.length>0&&t.length-1===a?null==r?r:r[t[a]]:null==r?r:(r=r[t[a]],a+=1,e())}():e}function Te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=0,n=e;return t.length>0?function e(){return Array.isArray(n)?n.slice().map(((o,s)=>+t[r]===s?t.length-1===r?a(o):(n=o,r+=1,e()):o)):ge(n,{[t&&t[r]]:t.length-1===r?a(n[t[r]]):(n=n[t[r]]||{},r+=1,e())})}():e}const Oe=()=>(new Date).getTime(),he={'[object Null]':Q,'[object Undefined]':J,'[object String]':Z,'[object Array]':ee,'[object Boolean]':te,'[object Object]':ae,'[object Function]':re,'[object Error]':ne,'[object Symbol]':oe,'[object GeneratorFunction]':se},be=e=>void 0===e?typeof e:he[Object.prototype.toString.call(e)]||typeof e,Ne=e=>function(t,a,r,n,o){return{type:e,response:{type:t,data:arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},payload:r,statusCode:n,message:o,method:a}}},me=e=>function(t,a,r,n,o){return{type:e,response:{type:t,error:arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},payload:r,statusCode:n,message:o,method:a}}},ke=e=>function(){return{type:e,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},Ue=e=>(t,a,r,n)=>({type:n&&'string'===be(n)&&n.length?`${e}_[${n}]`:e,response:{type:t,method:a,payload:{filter:r}}}),Ie=e=>function(t,a,r){return{type:e,response:{type:t,method:a,data:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},statusCode:(arguments.length>4?arguments[4]:void 0)||a===h?200:null,customTask:!0,payload:r}}};var Pe=e=>{let{apiEndPoints:t,generatorKey:a,dontResetOnLogout:r}=e;const n=Array.isArray(r)?r.reduce(((e,t)=>Object.assign(e,{[t]:t})),{}):r,o=(e=>Object.keys(e).reduce(((t,a)=>{const r=Object.keys(e[a]).reduce(((e,t)=>Re(e,{[t]:{[v]:`${R}${a}/${t}_${v}`,[L]:`${R}${a}/${t}_${L}`,[K]:`${R}${a}/${t}_${K}`,[P]:`${R}${a}/${t}_${P}`,[j]:`${R}${a}/${t}_${j}`}})),{}),n=Object.keys(e[a]).reduce(((e,t)=>Re(e,{[t]:{[v]:ke(r[t][v]),[L]:Ne(r[t][L]),[K]:Ie(r[t][K]),[P]:me(r[t][P]),[j]:Ue(r[t][j])}})),{}),o=Object.entries(e[a]).reduce(((e,t)=>{let[a,o]=t;return Re(e,{[r[a][v]]:{api:o,cancel:r[a][j],actions:n[a],effect:o.effect===S&&l.takeEvery}})}),{});return Re(t,{[a]:{actions:n,constants:r,sagaConfig:o}})}),{}))(t),{initialState:s,resetState:i}=Object.keys(t[a]).reduce(((e,r)=>({initialState:Re({},e.initialState,{[o[a].constants[r][v]]:{loading:{},toast:{},initialState:!0,...t[a][r].initialData?{data:t[a][r].initialData}:{}}}),resetState:void 0===n[r]&&Re({},e.resetState,{[o[a].constants[r][v]]:{loading:{},toast:{},initialState:!0,...t[a][r].initialData?{data:t[a][r].initialData}:{}}})||e.resetState})),{initialState:{},resetState:{}}),{constants:c,actions:d,sagaConfig:u}=o[a];return{constants:c,initialState:s,generatorKey:a,actions:d,sagaConfig:u,resetState:i}};function Le(e){o('object'===be(e)&&'function'===be(e.dispatch)&&'function'===be(e.subscribe)&&'function'===be(e.getState)&&'function'===be(e.replaceReducer)&&'function'===be(e.runSaga)&&'object'===be(e.injectedReducers)&&'object'===be(e.injectedSagas),'(app/utils...) injectors: Expected a valid redux store')}const ve='@@saga-injector/daemon',je='@@saga-injector/once-till-unmount',Ke=['@@saga-injector/restart-on-remount',ve,je],xe=e=>o(e&&'string'===be(e),'(app/utils...) injectSaga: Expected `key` to be a non empty string'),$e=e=>{o('object'===be(e)&&'function'==typeof e.saga&&Ke.includes(e.mode),'(app/utils...) injectSaga: Expected a valid saga descriptor')};function we(e,t){return function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t||Le(e);const o={...r,mode:r.mode||ve},{saga:s,mode:i}=o;xe(a),$e(o);let c=Reflect.has(e.injectedSagas,a);if('production'!==process.env.NODE_ENV){const t=e.injectedSagas[a];c&&t.saga!==s&&(t.task.cancel(),c=!1)}(!c||c&&i!==ve&&i!==je)&&(e.injectedSagas[a]={...o,task:e.runSaga(s,n)})}}function Ye(e,t){return function(a){if(t||Le(e),xe(a),Reflect.has(e.injectedSagas,a)){const t=e.injectedSagas[a];t.mode&&t.mode!==ve&&(t.task.cancel(),'production'===process.env.NODE_ENV&&(e.injectedSagas[a]='done'))}}}function He(e){return Le(e),{injectSaga:we(e,!0),ejectSaga:Ye(e,!0)}}var Fe=e=>{let{key:t,saga:a,mode:o}=e;return e=>{class s extends r.Component{constructor(e,r){super(e,r),this.injectors=He(r.store),this.injectors.injectSaga(t,{saga:a,mode:o},this.props)}componentWillUnmount(){this.injectors.ejectSaga(t)}render(){return r.createElement(e,this.props)}}return d(s,'WrappedComponent',e),d(s,'contextType',n.ReactReduxContext),d(s,'displayName',`withSaga(${e.displayName||e.name||'Component'})`),u(s,e)}};function Me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e).length>0?e:{global:()=>({})};return i.combineReducers(t)}function qe(e,t){return function(a,r,n){t||Le(e),o('string'===be(a)&&a&&'function'===be(r),'(app/utils...) injectReducer: Expected `reducer` to be a reducer function'),Reflect.has(e.injectedReducers,a)&&e.injectedReducers[a]===r||(e.injectedReducers[a]=r,e.replaceReducer((n||Me)(e.injectedReducers)))}}function Ge(e){return Le(e),{injectReducer:qe(e,!0)}}var Be=(e,t)=>{let{key:a,reducer:o}=e;return e=>{class s extends r.Component{constructor(e,r){super(e,r),Ge(r.store).injectReducer(a,o,t)}render(){return r.createElement(e,this.props)}}return d(s,'WrappedComponent',e),d(s,'contextType',n.ReactReduxContext),d(s,'displayName',`withReducer(${e.displayName||e.name||'Component'})`),u(s,e)}};const ze={component:[L,P],saga:[v,j,K],cancel:[L,P,v,K]},Xe=[j,K],Ve=(e,t,a,r)=>Object.entries(e).reduce(((n,o)=>{let[s,i]=o;return a&&ze[r].includes(s)&&n||ge(n,{[`${t}_${s}`]:Xe.includes(s)&&i.bind({},e[v]().type)||i})}),{});var We=e=>{const{componentActions:t,actions:a,sagaActions:r,cancelActions:n}=(o=e,Object.entries(o).reduce(((e,t)=>{let[a,r]=t;return{actions:ge(e.actions,Ve(r,a)),sagaActions:ge(e.sagaActions,Ve(r,a,!0,'saga')),componentActions:ge(e.componentActions,Ve(r,a,!0,'component')),cancelActions:ge(e.cancelActions,Ve(r,a,!0,'cancel'))}}),{}));var o;return{componentActions:t,actions:a,sagaActions:r,cancelActions:n}};const Qe=(e,t)=>{let{id:a,key:r}=e;return Array.isArray(t)?Array.isArray(a)?t.reduce(((e,t)=>a.includes(t[r])?e:e.concat([t])),[]):t.filter((e=>{let{[r]:t}=e;return t!==a})):t},Je=function(){let{errorData:e,clearDataOnError:t=!1,statusCode:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r=>{let{data:n={}}=r;return{...t?{data:Array.isArray(n)?[]:{}}:{},error:e||null,isError:!0,statusCode:a,lastUpdated:Oe(),isInfinite:null,infiniteEnd:null,initialState:!1}}},Ze=e=>Array.isArray(e)&&e.length>0?e:e&&'string'==typeof e?e.split('.'):[],et=function(){let{errorData:e,filter:t,clearDataOnError:a,statusCode:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let{data:o={}}=n;return{data:t&&t.some((e=>Array.isArray(e)))?t.reduce(((t,n)=>Te(t,Ze(n),(t=>Ze(n).length>0?Re(t,(t=>{let{data:n}=t;return{...a?{data:Array.isArray(n)?[]:{}}:{},error:e||null,isError:!0,statusCode:r,lastUpdated:Oe(),isInfinite:null,infiniteEnd:null}})):t))),o):Te(o,t,(t=>Re(t,(t=>{let{data:n}=t;return{...a?{data:Array.isArray(n)?[]:{}}:{},error:e||null,isError:!0,statusCode:r,lastUpdated:Oe(),isInfinite:null,infiniteEnd:null,initialState:!1}}))))}}},tt=e=>Array.isArray(e)&&e.length>0?e:e&&'string'==typeof e?e.split('.'):[],at=e=>function(){let{filter:t=[],successDataStatusCode:a,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let{data:o={},statusCode:s}=n;return{lastUpdated:Oe(),data:(()=>{const n={filter:t,...r};return t&&t.some((e=>Array.isArray(e)))?t.reduce(((t,a)=>Te(t,tt(a),(t=>tt(a).length>0?Re(t,e(n)):t))),o):Te(o,t,(t=>Re({...t,statusCode:a||s,lastUpdated:Oe(),error:!1,isError:!1,initialState:!1},e(n))))})()}}},rt={string:String,number:Number,boolean:Boolean};let nt=function(e,t,a){let r=arguments.length>4?arguments[4]:void 0;(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[])?console.log(`%c${e} %c is found %c "${t}" %c not a function %c ${a} %c is invalid`,'background: #000; color: red; font-size: 12px','background: #000; color: orange; font-size: 12px','background: #000; color: red; font-size: 12px','background: #000; color: orange; font-size: 12px','background: #000; color: red; font-size: 12px','background: #000; color: orange; font-size: 12px'):console.log(`%c${r?'%c key':`${e} %c is undefined`}%c "${t}" %cnot found ${r?`in %c"${e}"%c object`:'%c%c'} %c ${a} %c is invalid`,'background: #000; color: red; font-size: 12px','background: #000; color: orange; font-size: 12px','background: #000; color: red; font-size: 12px','background: #000; color: orange; font-size: 12px','background: #000; color: green; font-size: 12px','background: #000; color: orange; font-size: 12px','background: #000; color: red; font-size: 12px','background: #000; color: orange; font-size: 12px')};const ot=()=>{let e=(new Error).stack.toString().split(/\r\n|\n/);console.log('Error :'),e.splice(0,1),e.map(((t,a)=>console.log(`[${e[e.length-1-a]} ]`)))};var st=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const i=void 0!==r?r:void 0;if('string'!=typeof a)return s&&(console.log('%c[Object] path is invalid it should be string','background: #000; color: orange; font-size: 12px'),ot(new e)),'function'==typeof n?n(i):i;let c=a.split(/\.|\[|\(/);c=c.map((e=>e.replace(/\]|\(/g,'').replace(/\)/,'()')));const l=c.splice(0,1);if(!t||'object'!=typeof t||0===Object.keys(t).length)return s&&ot(new e),'function'==typeof n?n(i):i;let d,u=t,p=l,y=0,E=p;for(let t=0;t<c.length;t++){if(u[c[t]]||'boolean'==typeof u||Object.prototype.hasOwnProperty.call(u,c[t])){if(p=Number(c[t])||0===Number(c[t])?`${p}[${c[t]}]`:`${p}.${c[t]}`,u=u[c[t]],!u&&'boolean'!=typeof u&&t===c.length-1)return'function'==typeof n?n(void 0!==r?r:u):void 0!==r?r:u;if(!u&&'boolean'!=typeof u)return s&&(ot(new e),nt(E,p,a)),'function'==typeof n?n(void 0!==r?r:u):void 0!==r?r:u;if((u||'boolean'==typeof u)&&c[t+1]&&'function'==typeof u[c[t+1]]&&(d=u),c[t+1]){if('()'===c[t+1]&&'function'!=typeof u)return s&&(ot(new e),nt(E,p,a,!0)),'function'==typeof n?n(i):i;if('object'!=typeof u&&'()'!==c[t+1]&&!u[c[t+1]]&&'boolean'!=typeof u)return s&&(ot(new e),nt(E,p,a,!1)),'function'==typeof n?n(i):i}}else{if('()'!==c[t])return p=Number(c[t])||0===Number(c[t])?`${p}[${c[t]}]`:`${p}.${c[t]}`,s&&(ot(new e),nt(p,c[t],a,!1,!0)),'function'==typeof n?n(i):i;if(p=`${p}${c[t]}`,'function'!=typeof u)return s&&(ot(new e),nt(E,p,a,!0)),'function'==typeof n?n(i):i;if(u=rt[typeof d]?o&&o[y]?rt[typeof d].prototype[c[t-1]].apply(d,o[y]):rt[typeof d].prototype[c[t-1]].call(d):o&&o[y]?u.apply(null,[...o[y]]):u(),!u&&'boolean'!=typeof u&&t===c.length-1)return'function'==typeof n?n(void 0!==r?r:u):void 0!==r?r:u;if(!u&&'boolean'!=typeof u)return s&&(ot(new e),nt(E,p,a)),'function'==typeof n?n(void 0!==r?r:u):void 0!==r?r:u;if(!u&&'boolean'!=typeof u&&t===c.length-1)return'function'==typeof n?n(void 0!==r?r:u):void 0!==r?r:u;if(!u&&'boolean'!=typeof u)return s&&(ot(new e),nt(E,p,a)),'function'==typeof n?n(void 0!==r?r:u):void 0!==r?r:u;if((u||'boolean'==typeof u)&&c[t+1]&&'function'==typeof u[c[t+1]]&&(d=u),c[t+1]){if('()'===c[t+1]&&'function'!=typeof u)return s&&(ot(new e),nt(E,p,a,!0)),'function'==typeof n?n(i):i;if('object'!=typeof u&&'()'!==c[t+1]&&!u[c[t+1]]&&'boolean'!=typeof u)return s&&(ot(new e),nt(E,p,a,!0)),'function'==typeof n?n(i):i}y+=1}E=p}const A=(!u&&'boolean'!=typeof u||'[object Null]'===Object.prototype.toString.call(r)||void 0===r||Object.prototype.toString.call(u)!==Object.prototype.toString.call(r))&&void 0!==r&&'[object Null]'!==Object.prototype.toString.call(r)?r:u;return'function'==typeof n?n(A):A}.bind(null,Error);const it=e=>Array.isArray(e)&&e.length>0?e:e&&'string'==typeof e?e.split('.'):[],ct=e=>{let{data:t,initialData:a,clearData:r,loader:n,request:o}=e;return Re(t,(e=>{let{data:t}=e;return{loading:{status:n,lastUpdated:Oe()},lastUpdated:Oe(),initialState:!1,...o?{request:o}:{},...r||a?{data:Array.isArray(t)?a||[]:a||{}}:{}}}))},lt=function(){let{loader:e,filter:t,clearData:a,initialData:r,request:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{let{data:s={}}=o;return{lastUpdated:Oe(),data:t&&t.some((e=>Array.isArray(e)))?t.reduce(((t,o)=>Te(t,it(o),(t=>it(o).length>0?ct({data:t,initialData:r,clearData:a,loader:e,request:n}):t))),s):Te(s,t,(t=>ct({data:t,initialData:r,clearData:a,loader:e,request:n})))}}},dt=e=>Array.isArray(e)&&e.length>0?e:e&&'string'==typeof e?e.split('.'):[],ut=function(){let{filter:e,isInfinite:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a=>{let{data:r={}}=a;return{lastUpdated:Oe(),data:e&&e.some((e=>Array.isArray(e)))?e.reduce(((e,a)=>Te(e,dt(a),(e=>dt(a).length>0?Re(e,(e=>{let{toast:a={}}=e;return{isInfinite:t,toast:Re(a,{message:'',status:'',isError:null,key:''})}})):e))),r):Te(r,e,(e=>Re(e,(e=>{let{toast:a={}}=e;return{isInfinite:t,toast:Re(a,{message:'',status:'',isError:null,key:''})}}))))}}},pt=function(){let{statusCode:e,filter:t,message:a,isError:r,type:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{let{data:s={}}=o;return{lastUpdated:Oe(),data:t&&t.some((e=>Array.isArray(e)))?t.reduce(((t,o)=>Te(t,dt(o),(t=>dt(o).length>0?Re(t,{toast:{isError:'boolean'==typeof r?r:![200,201].includes(e),status:e,message:a,key:n,lastUpdated:Oe()}}):t))),s):Te(s,t,(t=>Re(t,{lastUpdated:Oe(),toast:{isError:'boolean'==typeof r?r:![200,201].includes(e),status:e,message:a,key:n,lastUpdated:Oe()}})))}}},yt=function(e,t,a,r,n){return a?a({oldData:e,successData:t,type:r,state:n,config:arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}})||e:'object'!=typeof t||Array.isArray(t)||'object'!=typeof e||Array.isArray(e)?t:Re(e,t)},Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e;return a='object'===be(e)?{...a}:a,'object'===be(e)?((Array.isArray(t)?t:[t]).forEach((e=>{a=Array.isArray(e)?Ce(a,e):Ce(a,[e])})),a):e},At=(e,t)=>{let{updateCallback:a,successData:r,deleteKey:n,id:o,key:s,type:i,state:c}=e;return a?a({oldData:t,successData:r,type:i,state:c})||t:Array.isArray(t)?Array.isArray(o)?t.reduce(((e,t)=>o.includes(t[s])?e.concat([Et(t,n)]):e.concat([t])),[]):t.map((e=>e[s]===o?Et(e,n):e)):Et(t,n)},ft=function(e,t,a){let{response:{type:r}}=a,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Re(e,(e=>{let{[n||r]:t}=e;return{[n||r]:Re(t,(e=>{let{data:t,toast:a,infiniteEnd:r}=e;return{data:Array.isArray(t)&&[]||{},toast:Re(a,{message:'',status:''}),loading:{},isError:!1,statusCode:200,infiniteEnd:'boolean'!=typeof r&&void 0,lastUpdated:Oe(),initialState:!0,request:void 0}}))}}))},_t=e=>Array.isArray(e)&&e.length>0?e:e&&'string'==typeof e?e.split('.'):[],St=function(e,t,a,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const{response:{type:o}}=a;return Re(e,(e=>{let{[n||o]:t}=e;return{[o]:Re(t,(function(){let{data:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{lastUpdated:Oe(),data:r&&r.some((e=>Array.isArray(e)))?r.reduce(((e,t)=>Te(e,_t(t),(e=>_t(t).length>0?Re(e,(e=>{let{data:t,toast:a,infiniteEnd:r}=e;return{data:Array.isArray(t)&&[]||{},toast:Re(a,{message:'',status:''}),isError:!1,infiniteEnd:'boolean'!=typeof r&&void 0,lastUpdated:Oe(),initialState:!0,request:void 0}})):e))),e):Te(e,r,(e=>Re(e,(e=>{let{data:t,toast:a,infiniteEnd:r}=e;return{data:Array.isArray(t)&&[]||{},toast:Re(a,{message:'',status:''}),isError:!1,infiniteEnd:'boolean'!=typeof r&&void 0,lastUpdated:Oe(),initialState:!0,request:void 0}}))))}}))}}))},gt=function(e,t,a,r,n,o){return a?a({oldData:e,successData:t,type:n,state:o,config:arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}})||e:'object'!=typeof t||Array.isArray(t)||'object'!=typeof e||Array.isArray(e)?t:r?r.reduce(((e,a)=>Array.isArray(a)&&a.length>0?Te(e,a,(e=>st(t,`.${a.join('.')}`))):{...e,[a]:t[a]}),e):e},Rt=(e,t)=>Object.keys(e).reduce(((a,r)=>({...a,[r]:t.includes(r)?!e[r]:e[r]})),{}),Ct=(e,t)=>{let{successData:a,toggleKey:r,id:n,key:o,updateCallback:s,type:i,state:c}=e;const l=Array.isArray(t)?Array.isArray(n)?t.reduce(((e,t)=>n.includes(t[o])?e.concat([Rt(t,r)]):e.concat([t])),[]):t.map((e=>e[o]===n?Rt(e,r):e)):Rt(t,r);return s?s({updatedData:l,successData:a,type:i,state:c})||t:l},Dt=e=>'[object Object]'!==Object.prototype.toString.call(e),Tt=e=>{let{mutation:t,callback:{updateCallback:a}={},task:{clearData:r,subKey:n=[],updateCallback:o=a}={},successData:s={},successDataStatusCode:i,type:c,state:l}=e;return function(){let{data:e={},statusCode:a,...d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t?{data:e,statusCode:a,...d,...s}:{data:(()=>{if(n.length>0){return Te({...e,...Dt(s)?{}:s,[n[0]]:e[n[0]]},n,(e=>r?st(s,`.${n.join('.')}`):o?o({oldData:e,successData:st(s,`.${n.join('.')}`),type:c,state:l}):Dt(st(s,`.${n.join('.')}`))||Dt(st(e,`.${n.join('.')}`))?st(s,`.${n.join('.')}`):Re(e,st(s,`.${n.join('.')}`))))}return o?o({oldData:e,successData:s,type:c,state:l}):Dt(s)||Dt(e)||r?s:Re(e,s)})(),statusCode:i||a,error:!1,lastUpdated:Oe(),isInfinite:null,infiniteEnd:null,isError:!1,initialState:!1}}},Ot=st,ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)&&e.reduce(((e,t)=>{const[a,r]=Object.entries(t)[0];return{...e,[a.split(',')[1]]:r}}),{})||{}},bt=e=>{let{state:t,action:a,newState:r,method:n,constants:o,updateState:s}=e;const{payload:{filter:i,task:c={},dontUpdateReducer:l,dontUpdateReducerOnCall:d,request:u}={}}=a,p=u?{...u}:void 0;if(p&&p.payload&&delete p.payload,l||d)return t;const{payload:{task:{clearDataOnStart:y}={},initialCallData:E,proxyFor:A}={}}=a,{response:{type:f,statusCode:_,message:S,status:g,customTask:R,payload:{proxyFor:C,filter:D,loader:T,toast:b}={}}={}}=a,N=A||C||f||a.type,m=A||C||f,U=Object.keys(o).includes(a.type);let P=Re(t);if(((n===k||U||[h,O].includes(n))&&!R||void 0!==T&&R&&(Array.isArray(n)?n:[n]).includes(k))&&((g||U)&&i&&i.length>0?P=r((e=>{let{[N]:t}=e;return{[N]:Re(t,ut({isInfinite:c.name===x,filter:Array.isArray(i)&&i||[i]})(t))}})):(g||U)&&(P=r((e=>{let{[N]:t}=e;return{[N]:Re(t,(e=>{let{toast:t={}}=e;return{toast:Re(t,{message:'',status:'',isError:!1,key:''})}}))}}))),P=(i||D)&&!R&&(i||D).length>0||R&&void 0!==T&&(i||D||[]).length>0?Re(P,(e=>{let{[N]:t}=e;return{[N]:Re(t,lt({filter:Array.isArray(i||D)&&(i||D)||[i||D],...p?{request:p}:{},loader:R&&void 0!==T?T:!E&&(![h,O].includes(n)&&(g||U)),clearData:y,initialData:E})(t))}})):Re(P,(e=>{let{[N]:t}=e;return{[N]:Re(t,(e=>{let{data:t}=e;return{loading:{status:R&&void 0!==T?T:!E&&(![h,O].includes(n)&&(g||U)),lastUpdated:Oe()},...p?{request:p}:{},initialState:!1,...!y&&!E||[h,O].includes(n)?{}:{data:E||(Array.isArray(t)?[]:{})}}}))}})),n===k||U))return P;([h,O].includes(n)&&Object.keys(o).includes(m)&&!R||b&&R&&(Array.isArray(n)?n:[n]).includes(I))&&(P=D&&D.length>0?Re(P,(e=>{let{[m]:t}=e;return{[m]:Re(t,pt({statusCode:_,filter:Array.isArray(D)&&D||[D],message:S,type:m,...b&&R&&(Array.isArray(n)?n:[n]).includes(I)?b:{}})(t))}})):Re(P,(e=>{let{[m]:t}=e;return{[m]:Re(t,{toast:{isError:![200,201].includes(_),status:_,message:S,key:m,lastUpdated:Oe(),...b&&R&&(Array.isArray(n)?n:[n]).includes(I)?b:{}},initialState:!1})}})));return s({state:P,newState:Re.bind({},P),action:a,reset:D&&D.length>0?St.bind({},t,r,a,D):ft.bind({},t,r,a)})},Nt=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{...Ot(e,`${r.length?'.data.':''}${r.join('.')}`,{}),data:Ot(e,`.data${r.length?'.':''}${r.join('.')}${r.length?'.data':''}`,t),loader:Ot(e,`${r.length?'.data.':''}${r.join('.')}.loading.status`,'boolean'==typeof a&&a),lastUpdated:Ot(e,`${r.length?'.data.':''}${r.join('.')}.lastUpdated`),isInfinite:Ot(e,`${r.length?'.data.':''}${r.join('.')}.isInfinite`,!1),infiniteEnd:Ot(e,`${r.length?'.data.':''}${r.join('.')}.infiniteEnd`,!1),isError:Ot(e,`${r.length?'.data.':''}${r.join('.')}.isError`,!1),toast:Ot(e,`${r.length?'.data.':''}${r.join('.')}.toast`,{}),error:Ot(e,`${r.length?'.data.':''}${r.join('.')}.error`,{})}},mt=(e,t,a)=>r=>({dispatch:r,...e&&Object.keys(e).length?Re(t,(t=>{let{[`${a}_hoc`]:n}=t;return{[`${a}_hoc`]:Re(n,{actions:i.bindActionCreators(e,r)})}})):{}}),kt=[{name:x,handler:e=>{let{callback:{updateCallback:t}={},task:{clearData:a,subKey:r=[],limit:n,isAppendTop:o=!1,setInfiniteEnd:s,updateCallback:i=t}={},successData:c={},successDataStatusCode:l,type:d,state:u}=e;return function(){let{data:e={},statusCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:(()=>{if(r.length>0&&Array.isArray(De(e,r))){return Te({...e,...'object'===be(c)?c:{},[r[0]]:e[r[0]]},r,(e=>a?st(c,`.${r.join('.')}`,[]):i?i({oldData:e,successData:st(c,`.${r.join('.')}`,[]),type:d,state:u}):o?st(c,`.${r.join('.')}`,[]).concat(e):e.concat(st(c,`.${r.join('.')}`,[]))))}const t=Array.isArray(c)?c:[],n=Array.isArray(e)?o?t.concat(e):e.concat(t):t,s=a?c:Array.isArray(c)?n:c;return i?i({oldData:e,successData:c,type:d,state:u}):s})(),error:!1,lastUpdated:Oe(),statusCode:l||t,isInfinite:'number'==typeof n,isError:!1,initialState:!1,infiniteEnd:void 0!==s&&'function'==typeof s?s(c):void 0!==n&&'number'==typeof n?(r.length>0?st(c,`.${r.join('.')}`,[]):c).length<n:null}}}},{name:$,handler:Tt},{name:w,handler:e=>{let{task:{key:t,id:a,subKey:r=[]}={},successData:n={},successDataStatusCode:o}=e;return function(){let{data:e=[],statusCode:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i={key:t,id:a},c='object'===be(n)?n:{};return{data:r.length>0?Te({...e,...c,[r[0]]:e[r[0]]},r,(e=>Qe(i,e))):Qe(i,e),statusCode:o||s,lastUpdated:Oe(),isError:!1,reset:!1,initialState:!1}}}},{name:Y,handler:e=>{let{callback:{updateCallback:t}={},task:{key:a,id:r,subKey:n=[],values:o={},dontUpdateResponseData:s=!1,dontUpdateSuccessData:i,updateCallback:c=t}={},successData:l={},successDataStatusCode:d,type:u,state:p}=e;return function(){let{data:e=[],statusCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:n.length>0?Te({...e,...'object'!==be(l)||s||i?{}:l,[n[0]]:e[n[0]]},n,(e=>(()=>{let t=-1;const s=Array.isArray(o);return Array.isArray(e)?Array.isArray(r)&&a&&Array.isArray(e)?e.reduce((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.includes(n[a])?(t+=1,e.concat([yt(n,o[s?t:n[a]]||l||n,c,u,p,{index:t,id:s?t:n[a]})])):e.concat([n])}),[]):(0===r||r)&&a?e.map((e=>e[a]===r?(t+=1,yt(e,o[s?t:e[a]]||l||e,c,u,p,{index:t,id:s?t:e[a]})):e)):yt(e,st(l,`.${n.join('.')}`)||l,c,u,p):yt(e,st(l,`.${n.join('.')}`)||l,c,u,p)})())):(()=>{let t=-1;const n=Array.isArray(o);return Array.isArray(e)?Array.isArray(r)&&a?e.reduce((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.includes(s[a])?(t+=1,e.concat([yt(s,o[n?t:s[a]]||l||s,c,u,p,{index:t,id:n?t:s[a]})])):e.concat([s])}),[]):(0===r||r)&&a?e.map((e=>e[a]===r?(t+=1,yt(e,o[n?t:e[a]]||l||e,c,u,p,{index:t,id:n?t:e[a]})):e)):yt(e,l,c,u,p):yt(e,l,c,u,p)})(),statusCode:d||t,lastUpdated:Oe(),isError:!1,initialState:!1}}}},{name:H,handler:e=>{let{callback:{updateCallback:t}={},task:{key:a,id:r,subKey:n=[],values:o={},updateKey:s=[],updateCallback:i=t,dontUpdateResponseData:c,dontUpdateSuccessData:l}={},successData:d={},successDataStatusCode:u,type:p,state:y}=e;return function(){let{data:e=[],statusCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:n.length>0?Te({...e,...'object'!==be(d)||c||l?{}:d,[n[0]]:e[n[0]]},n,(e=>(()=>{let t=-1;const c=Array.isArray(o);return Array.isArray(e)?Array.isArray(r)&&a&&Array.isArray(e)?e.reduce((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.includes(n[a])?(t+=1,e.concat([gt(n,o[c?t:n[a]]||n,i,s,p,y,{index:t,id:c?t:n[a]})])):e.concat([n])}),[]):(0===r||r)&&a?e.map((e=>e[a]===r?(t+=1,gt(e,o[c?t:e[a]]||e,i,s,p,y,{index:t,id:c?t:e[a]})):e)):gt(e,st(d,`.${n.join('.')}`),i,s,p,y):gt(e,st(d,`.${n.join('.')}`),i,s,p,y)})())):(()=>{let t=-1;const n=Array.isArray(o);return Array.isArray(e)?Array.isArray(r)&&a?e.reduce((function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.includes(c[a])?(t+=1,e.concat([gt(c,o[n?t:c[a]]||c,i,s,p,y,{index:t,id:n?t:c[a]})])):e.concat([c])}),[]):(0===r||r)&&a?e.map((e=>e[a]===r?(t+=1,gt(e,o[n?t:e[a]],i,s,p,y,{index:t,id:n?t:e[a]})):e)):gt(e,d,i,s,p,y):gt(e,d,i,s,p,y)})(),statusCode:u||t,lastUpdated:Oe(),isError:!1,initialState:!1}}}},{name:F,handler:e=>{let{callback:{updateCallback:t}={},task:{key:a,id:r,deleteKey:n=[],subKey:o=[],updateCallback:s=t}={},successData:i={},successDataStatusCode:c,type:l,state:d}=e;return function(){let{data:e={},statusCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u={updateCallback:s,successData:i,deleteKey:n,id:r,key:a,type:l,state:d};return{data:o.length>0?Te({...e,...i,[o[0]]:e[o[0]]},o,(e=>At(u,e))):At(u,e),statusCode:c||t,lastUpdated:Oe(),isError:!1,initialState:!1}}}},{name:M,handler:e=>{let{callback:{updateCallback:t}={},task:{key:a,id:r,toggleKey:n=[],subKey:o=[],updateCallback:s=t}={},successData:i={},successDataStatusCode:c,type:l,state:d}=e;return function(){let{data:e={},statusCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u={successData:i,toggleKey:n,id:r,key:a,updateCallback:s,type:l,state:d};return{data:o.length>0?Te({...e,...'object'===be(i)?i:{},[o[0]]:e[o[0]]},o,(e=>Ct(u,e))):Ct(u,e),statusCode:c||t,lastUpdated:Oe(),isError:!1,initialState:!1}}}},{name:q,handler:e=>{let{callback:{updateCallback:t}={},task:{clearData:a,spliceKey:r=[],subKey:n=[],updateCallback:o=t}={},successData:s={},successDataStatusCode:i,type:c,state:l}=e;return function(){let{data:e={},statusCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:(()=>{if(n.length>0&&Array.isArray(De(e,n))){return Te({...e,...'object'===be(s)?s:{},[n[0]]:e[n[0]]},n,(e=>a?st(s,`.${n.join('.')}`,[]):o?o({oldData:e,successData:st(s,`.${n.join('.')}`,[]),type:c,state:l}):Array.isArray(e)?(()=>{const t=e.slice();return t.splice(...r,...st(s,`.${n.join('.')}`,[])),t})():e))}const t=Array.isArray(e)?e.slice().splice(...r,...st(s,`.${n.join('.')}`,[])):e;return o?o({oldData:e,successData:s,type:c,state:l}):t})(),statusCode:i||t,error:!1,lastUpdated:Oe(),isError:!1,initialState:!1}}}},{name:G,handler:e=>{let{task:{callback:t}={},successData:a={},successDataStatusCode:r,state:n,type:s,...i}=e;return function(){let{data:e={},statusCode:i,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=>{o('function'===be(e),'(react-boilerplate-redux-saga-hoc) '+(void 0===e?'Callback Handler required callback key':'callback is not a function'))})(t),{lastUpdated:Oe(),...t({oldData:e,newData:a,rest:{...c,statusCode:i},status:i||r,successDataStatusCode:r,state:n,type:s,extras:c||{}})}}}},{name:B,handler:()=>function(){let{data:{data:e,toast:t,infiniteEnd:a}={},statusCode:r,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:Array.isArray(e)?[]:{},toast:{message:'',status:''},isError:!1,statusCode:null,infiniteEnd:'boolean'!=typeof a&&void 0,lastUpdated:Oe(),initialState:!0}}},{name:z,handler:e=>{let{task:{toast:t}={},successData:a={},successDataStatusCode:r}=e;return function(){let{data:{data:e,toast:a,infiniteEnd:r}={},statusCode:n,...o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{toast:t||a||{message:'',status:''},isError:!1,lastUpdated:Oe()}}}},{name:X,handler:e=>{let{task:{error:t,isError:a}={},successData:r={},successDataStatusCode:n}=e;return function(){let{data:{data:e,toast:r,infiniteEnd:n,error:o,isError:s}={},statusCode:i,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{error:t||o||{},isError:'boolean'==typeof a?a:s,lastUpdated:Oe()}}}},{name:V,handler:e=>{let{task:{loader:t}={},successData:a={},successDataStatusCode:r}=e;return function(){let{data:{data:e,toast:a,infiniteEnd:r,error:n,isError:o,loading:{status:s}={}}={},statusCode:i,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{loading:{status:'boolean'==typeof t?t:s,lastUpdated:Oe()},lastUpdated:Oe()}}}},{name:W,handler:e=>{let{successDataStatusCode:t}=e;return function(){let{statusCode:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{statusCode:t||e,error:!1,lastUpdated:Oe(),isError:!1}}}}],Ut=(e,t,a)=>{o(be(e)===a,`(react-boilerplate-redux-saga-hoc)  Expected \`${t}\` to be a ${a}`)},It=e=>Array.isArray(e)&&e.length>0?e:e&&'string'==typeof e&&e.length>0?e.split('.'):null,Pt=(e,t,a,r)=>{let n=t;const o='array'===be(e.tasks)?e.tasks.filter((e=>e.task||e.filter)):[];return(o.length>0?o:Array(1).fill(e)).forEach((function(){let{task:t={},filter:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=null;t.response&&!t.dontUpdateResponseData&&Ut(t.response,'task { response  : { data }}',ae),s=n=>n({...e,type:r,state:a,filter:It(o||e.filter),successData:t.dontUpdateResponseData?{}:(t.response||{}).data||e.successData});const i=(e=>e&&'function'==typeof e?e:null)(t.customHandler),c=It(o),l=e=>Re(n,s(e)),d=kt.concat(Array.isArray(e.handlers)?e.handlers:[]).find((e=>{let{name:a}=e;return a===t.name||a===t}));if(d)Ut(d.handler,`${d.name} handler with key name handler`,re),n=l(c?at(d.handler):d.handler);else if(i&&'Custom-Handler'===t.name)n=l(c?at(i):i)||n;else{if(t.name===W||t===W)return n;n=l(c?at(Tt):Tt)}})),n},Lt=(e,t)=>{const{response:{customTask:a,mutation:r,data:{data:n={},...o}={},payload:{request:{query:s={},clearDataOnError:i=!1}={},filter:c,error:l}={},error:{data:d={}}={}}={}}=e,u=It(c);return[Pt.bind(null,{handlers:t,successData:n,errorData:d,successDataStatusCode:o.statusCode,customTask:a,mutation:r,...e.response.payload}),(u&&et||Je).bind(null,{errorData:a?l:d,query:s,filter:u,clearDataOnError:i,statusCode:o.statusCode})]},vt={},jt=[],Kt=e=>{let{authenticationConstants:t,ResetState:a,isMobileApp:r=!1,initialState:n,reducerFunction:o,handlers:s=[]}=e;return e=>{let{state:r,newState:i,action:c,reset:l}=e;const{response:{data:{data:d={},...u}={},payload:{payload:p={},query:y={},params:E={},...A}={},status:f,statusCode:_,type:S,method:g,message:R,error:{data:C={},...D}={}}={}}=c,[T,b]=Lt(c,s),N=()=>(e=>{let{method:t,reset:a,state:r,action:n,handlers:o,type:s}=e;const[i,c]=Lt(n,o),{response:{customTask:l,mutation:d,data:{data:u={},...p}={},payload:{callback:{updateStateCallback:y}={},excuteUpdateStateCallbackOnError:E,updateStateCallbackOnError:A,tasks:f,updateDataReducerKey:_,proxyFor:S,_errortask:g}={},error:{data:R={},status:C}={}}={}}=n;let D=r;const T=S||s,b=(Array.isArray(t)?t:[t,g?h:null]).filter((e=>[h,O,U].includes(e)));for(let e=0;e<b.length;e+=1)switch(b[e]){case h:{let e;const t=f?Array.isArray(f)&&f.filter((e=>be(e)===ae)):null;if(t&&Array.isArray(t)&&t.length>0){for(let e=0;e<t.length;e+=1){const a=Pt.bind(null,{handlers:o,successData:u,errorData:R,successDataStatusCode:p.statusCode,customTask:l,mutation:d,...n.response.payload,...t[e],tasks:void 0}),i=t[e]&&t[e].updateDataReducerKey||_;if(Array.isArray(i)&&i.length>0)for(let e=0;e<i.length;e+=1){const t=i[e]||S||s;D=Re(D,(e=>{let{[t]:n}=e;return{[t]:a(n,r,t)}}))}else{const e=i||S||s;D=Re(D,(t=>{let{[e]:n}=t;return{[e]:a(n,r,e)}}))}}e=D}else if(Array.isArray(_)&&_.length>0){for(let e=0;e<_.length;e+=1){const t=_[e]||S||s;D=Re(D,(e=>{let{[t]:a}=e;return{[t]:i(a,r,t)}}))}e=D}else{const t=_||S||s;e=Re(D,(e=>{let{[t]:a}=e;return{[t]:i(a,r,t)}}))}D=y&&y({state:e,data:u,type:L,reducerkey:T,status:C||p.statusCode,statusCode:p.statusCode})||e;break}case O:{const e=S||s,t=Re(D,(t=>{let{[e]:a}=t;return{[e]:Re(a,c())}}));D=y&&(E||A)&&!g&&y({state:t,data:u,type:P,reducerkey:T,error:R,status:C||p.statusCode,statusCode:p.statusCode})||t;break}case U:D=a()}return D})({method:g,reset:l,state:r,action:c,handlers:s,type:S});if('RESET'===S)return g===h?Re(r,a):r;if(o){const e=o({constants:t,successData:d,restSuccessData:u,payload:p,query:y,state:r,params:E,restPayload:A,loadingStatus:f,statusCode:_,type:S,reset:l,newState:i,method:g,statusMessage:R,errorData:C,restErrorData:D,resetState:a,initialState:n,commonHandler:T,commmonErrorHandler:b,defaultReducerHandler:N});if(e)return e}return N()}},xt=(e,t)=>(t.payload.dontResetKeys||[]).length>0?Object.entries(e).reduce(((e,a)=>{let[r,n]=a;return(t.payload.dontResetKeys||[]).includes(r)?e:{...e,[r]:n}}),{}):e;function $t(e){let t=new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:'',arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0);return t=e,Object.setPrototypeOf(t,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(t,$t),t}$t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf&&Object.setPrototypeOf($t,Error);function wt(e){let{type:t,commonData:a}=e;return function*(){yield l.put(function(e){let{type:t,data:a={},status:r=!0,loader:n,payload:o}=e;return{type:_,response:{type:t,status:r,data:a,loader:n,payload:o,method:k}}}({type:t,payload:a,status:!1}))}()}const Yt=e=>new Promise((t=>setTimeout(t,e))),Ht=function(e,t,a,r){for(var n=arguments.length,o=new Array(n>4?n-4:0),s=4;s<n;s++)o[s-4]=arguments[s];return l.fork((function*(){let n;for(;;){let s=yield l.take(t);for(;;){const{debounced:i,latestAction:c}=yield l.race({debounced:l.delay(e),latestAction:l.take(t)});if(i){!n||'function'!=typeof n.cancel||n.isCancelled()||r||n.cancel(),n=yield l.fork(a,...o,s);break}s=c}}}))},Ft={},Mt={};function qt(e){let{method:t,action:a,successData:r,requestData:n,successStatus:o,restSuccessData:s,errorStatus:i,errorData:c}=e;return function*(){switch(t){case m:return n;case N:return!0;case h:if(![200,201].includes(o))return!0;yield l.put(a.success({data:r,...s}));break;case O:i?yield l.put(a.error({data:c})):yield l.put(a.error({data:{}}))}}()}const Gt=e=>{let{constants:t,sagaFunction:a}=e;return function(e){let{data:{data:{status:r,data:n={},message:o,...s}={}}={},request:i,action:c,type:d,payload:{payload:u={},query:p={},params:y={},...E}={},method:A,actionData:f,axiosCancel:_,error:{response:{data:{status:S,data:g=[],message:R,...C}={}}={}}={},cancelled:D}=e;return function*(){let e={};A===m&&(e=Re(i));const o={method:A,action:c,successData:n,requestData:e,successStatus:r,restSuccessData:s,errorStatus:S,errorData:g,restPayload:E,restErrorData:C},u=qt.bind(null,o);return a?yield l.call(a,Re({type:d,constants:t,DEFAULT_SAGA_HANDLER:u},o)):A===m?e:yield l.call(u)}()}};var Bt=e=>{let{sagaConfig:t,constants:a,sagaFunction:r,axiosInterceptors:n,constantSaga:s=[]}=e;const[i,d]=function(e){let{actionType:t={},requestResponseHandler:a,axiosInterceptors:r}=e;function n(e){let{type:n,payload:s}=e;return function*(){let e;s&&s.actionCallType!==g&&(Mt[n]=Mt[n]||{},s.request&&s.request.key?(e=Array.isArray(s.request.key)&&s.request.key.length>0?s.request.key.join('@_@-@_@'):s.request.key,s.actionCallType!==g&&(Mt[n][e]=s)):Mt[n]=s);const i=s.actionCallType===g?e?Mt[n][e]:Mt[n]:s;if(!i)return void(yield l.call(wt,{type:n,commonData:{status:'request query not found.Unable to fetch api.'}}));let d=null,u=null;const{resolve:y,reject:E,isReject:f,dontUpdateReducer:_=!1,request:{asyncFunction:S=null,asyncFunctionParams:R=null,payload:C={},params:D={},query:k,delayFunction:I,dontUpdateReducerOnSucess:v=!1,dontUpdateReducerOnError:j=!1,axios:x,paramsSerializer:$={arrayFormat:'brackets'},cancelKey:w,onCancelTask:Y,axiosConfig:H={},useCache:F=!1,errorDataHandling:M=!0,clearDataOnError:q=!1,polling:G=!1,errorParser:B=!1,defaultErrorParser:z=!1,delay:X=8e3,retry:V=0,pollingCount:W='unlimited',callAfterDelay:Q=!1,...J}={},callback:{successCallback:Z,errorCallback:ee,logoutCallback:te,finalCallback:ae,pollingCallback:re,cancelCallback:ne,...oe}={},...se}=i;let ie=!1,ce=!0,le=1,de={},ue={};for(;ce;){let e=yield t[n];const s=x||e.api&&e.api.axios||r||A,{CancelToken:i}=c,g=yield i.source();e={...e,error:e.error||e.actions[P],success:e.success||e.actions[L],customTask:e.custom||e.actions[K]};let Ee='';e.api&&['string','function'].includes(typeof e.api)&&(Ee=e.api,e.api={});const Ae={payload:C,params:D,query:k,...J,...de,request:{payload:C,params:D,query:k,errorDataHandling:M,clearDataOnError:q,...J,...de},callback:oe,...se},fe=(e,t)=>e.bind({},n,t,Ae);'function'==typeof e.error&&(e.error=fe(e.error,O)),'function'==typeof e.success&&(e.success=fe(e.success,h));let _e={...e.api||{},cancelToken:g.token,url:e.api.url||Ee,method:e.api.method||'GET',data:C,headers:''};e.effect&&delete e.effect,e.actions&&delete e.actions,(de&&de.params||D)&&'function'==typeof _e.url&&(pe='{request: { params }}',ye='object',o(be(D)===ye,`(react-boilerplate-redux-saga-hoc)  Expected \`${pe}\` to be a ${ye}`),_e.url=yield _e.url(de&&de.params||D)),(k||de&&de.query)&&(_e.params=de&&de.query||k,_e.paramsSerializer=function(e){return p.stringify(e,de&&de.paramsSerializer||$)}),de&&de.payload&&(_e.data=de&&de.payload||C);const Se=de&&de.query||k;let ge;F&&(ge=`${_e.url}${Object.keys(Se||{}).length>0?`?${_e.paramsSerializer(Se)}`:''}`),'test'===process.env.NODE_ENV&&e.test||(yield delete _e.headers);let Re=null;_||(Re=yield l.call(a,{type:n,action:e,request:_e,payload:Ae,actionData:J,method:m})),_e=Re||_e,['POST','PATCH','PUT','DELETE','post','patch','put','delete'].includes(_e.method)||delete _e.data,_e.effect&&delete _e.effect;let Ce='',De='';if(G&&Q&&ce&&1===le&&e&&e.cancel){const{cancel:t}=yield l.race({posts:l.call(I||Yt,X),cancel:l.take(e.cancel)});if(De=t,De){ce=!1,_||(yield l.call(a,{type:n,action:e,payload:Ae,actionData:J,method:N,axiosCancel:De}));break}}try{let t;if(ie=!1,F&&(t=`${ge||''}_${JSON.stringify(_e)}`),F&&'GET'===_e.method&&Ft[t]&&!G)Ce={...Ft[t]};else{const{posts:t,cancel:a,cancel_filter:r}=yield l.race({posts:'function'==typeof S?l.call(S,...Array.isArray(de&&de.asyncFunctionParams||R)?de&&de.asyncFunctionParams||R:[]):l.call(s,{..._e,...de&&de.axiosConfig||H}),cancel:l.take(e.cancel),cancel_filter:l.take(w&&'string'===be(w)&&w.length?`${e.cancel}_[${w}]`:e.cancel)});De=a||r,Ce=void 0!==t?{...t}:{}}let r=Ce?{...Ce}:Ce;if(Ce=Ce||{},Ce&&Ce.data){const t=e.api.responseStatusCodeKey||'';if(r={data:{status:((e.api.responseStatusCode||[]).includes((Ce.data||{})[t])?Ce.status||200:(Ce.data||{})[t])||Ce&&Ce.status,statusCode:(Ce.data||{})[t]||Ce&&Ce.status,message:(Ce.data||{})[e.api.responseMessageKey||'']||Ce&&Ce.message,data:(Ce.data||{})[e.api.responseDataKey]||Ce.data||Ce}},e.api.errorHandlerStatusCode&&(e.api.errorHandlerStatusCode||[]).includes(r.data.status))throw new $t({isAxiosError:!0,response:{data:{error:(Ce&&Ce.data||{})[e.api.errorDataKey||'error']||Ce&&Ce.data||Ce,status:r.data.status,statusCode:r.data.status,message:r.data.message||'Error'}}})}if(r&&Ce.data){const{data:{status:t=Ce&&Ce.status,message:o=''}={}}=r||{};e.success=e.success.bind({},t,o);let s=null;if(d={response:Ce,posts:r,data:r.data,res:r&&r.data&&r.data.data,message:o,status:t},'function'==typeof Z){const{cancel:t,successCallbackResponse:a=null}=yield l.race({successCallbackResponse:l.call(Z,d),cancel:l.take(e.cancel)});t&&(ce=!1),s=a}s&&('object'===be(s)?(Ae._errortask=void 0,'object'===be(s.task)&&(Ae.task=s.task),s.filter&&(Ae.filter=s.filter),s.updateDataReducerKey&&(Ae.updateDataReducerKey=s.updateDataReducerKey),'array'===be(s.tasks)&&s.tasks.filter((e=>e.task||e.filter||e.updateDataReducerKey)).length>0&&(Ae.tasks=s.tasks)):'array'===be(s)&&s.filter((e=>e.task||e.filter||e.updateDataReducerKey)).length>0&&(Ae.tasks=s));let i=null;v||_||(i=yield l.call(a,{data:r,type:n,action:e,payload:Ae,actionData:J,method:h})),i&&(yield l.call(wt,{type:n,commonData:Ae})),'function'==typeof te&&setTimeout((()=>te(r)),100)}else if(De&&('function'==typeof g.cancel||Y)){const t=yield(Y||g.cancel)();'function'==typeof ne&&ne(t);const{response:{method:r}={}}=De||{};r||_||(yield l.call(a,{type:n,action:e,payload:Ae,actionData:J,method:N,axiosCancel:De})),r===U||_||(yield l.call(wt,{type:n,commonData:Ae})),ce=!1}else'test'===process.env.NODE_ENV&&e.success?yield l.put(e.success({data:r})):(d={response:Ce,status:Ce&&Ce.status},'function'!=typeof Z||De||Z(d),_||(yield l.call(wt,{type:n,commonData:Ae})));if(G&&'undefined'!=typeof window&&'function'==typeof re&&ce){const{data:{status:e=Ce&&Ce.status,message:t=''}={}}=r||{};ue={response:r,data:r&&r.data,message:t,status:e,count:le,request:'function'==typeof S?Array.isArray(de&&de.asyncFunctionParams||R)?de&&de.asyncFunctionParams||R:[]:de||_e}}!G&&V&&(ce=!1),y&&'function'===be(y)&&(De&&'function'==typeof g.cancel?y({status:'CANCELLED',response:null,data:null}):(y({status:'SUCCESS',response:Ce,data:r&&r.data&&r.data.data}),F&&(Ft[t]=Ce)))}catch(t){ie=!0;try{if(t&&'object'==typeof t&&!t.isAxiosError)throw new Error(t);if(!G&&V&&V-1>=le);else{f&&E&&'function'===be(E)?E({status:'ERROR',error:t||'NETWORK ERROR',respone:t&&t.response}):y&&'function'===be(y)&&y({status:'ERROR',error:t||'NETWORK ERROR',respone:t&&t.response}),'test'===process.env.NODE_ENV&&console.log(t);const{response:{data:{[e.api.errorDataKey||'error']:r=t&&t.response&&t.response.data||t&&t.response||'',status:o=t&&t.response&&t.response.data&&(t.response.data[e.api.errorStatusKey]||t&&t.response&&t.response.status),message:s=t&&t.response&&t.response.data&&t.response.data[e.api.errorMessageKey]||t&&t.response&&t.response.statusText||t&&t.message||''}={}}={}}=t||{};if(u={error:t,errorData:z&&r&&'object'==typeof ht(r)&&Object.keys(ht(r)||{}).length>0?ht(r):r,...'function'==typeof B?{errorParser:B({error:t,errorData:r,status:o,response:t&&t.response,message:s})}:{},isNetworkError:t&&t.request&&'Network Error'===t.message,errorMessage:t&&t.message,message:s,status:o,response:t&&t.response,errors:r},'function'==typeof ee){let t=null;if('function'==typeof ee){const{cancel:a,errorCallbackResponse:r=null}=yield l.race({errorCallbackResponse:l.call(ee,u),cancel:l.take(e.cancel)});a&&(ce=!1),t=r}t&&('boolean'===be(t)&&t?Ae._errortask=!0:'object'===be(t)&&Object.keys(t).length>0?(Ae._errortask=!0,'object'===be(t.task)&&(Ae.task=t.task),t.filter&&(Ae.filter=t.filter),t.updateDataReducerKey&&(Ae.updateDataReducerKey=t.updateDataReducerKey),'undefined'!==be(t.tasks)&&(Ae.tasks=t.tasks),'array'===be(t.tasks)&&t.tasks.filter((e=>e.task||e.filter)).length>0&&(Ae.tasks=t.tasks)):'array'===be(t)&&t.filter((e=>'object'===be(e))).length>0?(Ae._errortask=!0,Ae.tasks=t.filter((e=>'object'===be(e)))):Ae._errortask=!1)}e.error=e.error.bind({},o,s),c.isCancel(t)&&e.cancel&&!_&&!j?(yield l.call(wt,{type:n,commonData:Ae}),yield l.call(a,{type:n,action:e,payload:Ae,actionData:J,method:T})):_||j||(yield l.call(a,{error:{response:{data:{status:o,data:M?r:null,message:s}}},type:n,action:e,payload:Ae,actionData:J,method:O}))&&(yield l.call(wt,{type:n,commonData:Ae}))}}catch(e){throw new Error(e)}}finally{const t=yield l.cancelled();if('function'==typeof ae){const{cancel:a}=yield l.race({finalRes:l.call(ae,{type:n,action:e,payload:Ae,Cancelled:t,isError:ie,success:d,error:u}),cancel:l.take(e.cancel)});a&&(ce=!1)}_||(yield l.call(a,{type:n,action:e,payload:Ae,actionData:J,method:b,cancelled:t})),t&&('function'==typeof g.cancel&&(yield g.cancel()),ce=!1)}if(G&&'undefined'!=typeof window&&ce)if('unlimited'===W||W-1>=le){le+=1;const{cancel:t}=yield l.race({posts:l.call(I||Yt,X),cancel:l.take(e.cancel)});if(t)ce=!1;else if(G&&'undefined'!=typeof window&&'function'==typeof re&&ce){const{cancel:t,pollingRes:a}=yield l.race({pollingRes:l.call(re,ue),cancel:l.take(e.cancel)});t?ce=!1:'boolean'==typeof a?ce=a:'[object Object]'===Object.prototype.toString.call(a)&&(de=a)}}else ce=!1;else!G&&V&&ce&&V-1>=le?(ce=!0,le+=1):ce=!1}var pe,ye}()}return[Object.keys(t).map((e=>t[e].api&&t[e].api[C]&&t[e].api[D]>0?Ht(t[e].api[D],e,n,!!t[e].effect):(t[e].effect||l.takeLatest)(e,n))),n]}({requestResponseHandler:Gt({constants:a,sagaFunction:r}),actionType:t,axiosInterceptors:n});return{saga:function*(){yield l.all(i.concat(s||[]))},Generator:d}};const{HANDLERS:zt,NEXT_JS:Xt,CREATE_REDUCER:Vt,USE_HOC_HOOK:Wt,ALLOW_MAP_STATE_TO_PROPS:Qt,GET_INITIAL_PROPS_KEY:Jt,IS_DEVELOPMENT:Zt,USE_TYPE:ea,USE_HOOK:ta,HOOK_WITH_HOC:aa}=le,{API_END_POINTS:ra,INITIAL_STATE:na,GET_DEFAULT_CONFIG:oa,DONT_RESET_REDUCER_KEYS:sa,IS_MOBILE:ia,SAGA:ca,SAGA_CONSTANT:la,REDUCER_CONSTANT:da,REDUCER:ua,AXIOS_INTERCEPTORS:pa,REDUCER_NAME:ya}=de,Ea=st,Aa=(e,t,a)=>{const r=Array.isArray(a)?a:[a];o(r.includes(be(e)),`(react-boilerplate-redux-saga-hoc)  Expected \`${t}\` to be a (${r.join(' | ')})`)},fa=e=>{console.log(`===== Successfully Injected Reducer - ${e} =====`)},_a=e=>{const t=`<======= "${e} Reducer" (react-boilerplate-redux-saga-hoc) Sorry! This package is depricated.This version is no longer supported, and will not receive security updates.====>`;console.warn&&console.warn(t),console.error&&console.error(t),console.info&&console.info(t)},Sa={};function ga(e,t){return null!=t&&'undefined'!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var Ra,Ca=(Ra=function(e,t){return Ra=Object.setPrototypeOf||ga({__proto__:[]},Array)&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},Ra(e,t)},function(e,t){function a(){this.constructor=e}Ra(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),Da=function(){return Da=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Da.apply(this,arguments)},Ta=function(e,t,a,r){return new(a||(a=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,ga(t,a)?t:new a((function(e){e(t)}))).then(s,i)}c((r=r.apply(e,t||[])).next())}))},Oa=function(e,t){var a,r,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},'function'==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(a)throw new TypeError('Generator is already executing.');for(;s;)try{if(a=1,r&&(n=2&o[0]?r.return:o[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{a=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty('undefined'!=typeof exports?exports:{},'__esModule',{value:!0});var ha=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(require('react')),ba={storeKey:'__NEXT_REDUX_STORE__',debug:!1,serializeState:function(e){return e},deserializeState:function(e){return e}};exports.HOC=e=>{let{[zt]:c=[],[Xt]:l=!1,[Vt]:d=null,[ta]:u=!1,[Wt]:p=!1,[aa]:y=!1,[Qt]:E=!0,[Jt]:_=f,[Zt]:S=!1,[ea]:g}=e;return function(){let{[ra]:e={},[na]:f={},[oa]:R=!1,[sa]:C={},[ia]:D=!1,[ca]:T,[la]:O=[],[da]:h,[ua]:b,[ya]:N,[pa]:m,[ta]:k=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const U=`${N}_hoc`;let I=null;o(!!N&&'string'===be(N),'(react-boilerplate-redux-saga-hoc)  Expected `name` to be a non empty string'),Aa(e,'apiEndPoints','object'),Aa(f,'initialState','object'),Aa(C,'dontReset',['object','array']),T&&Aa(T,'saga','function'),Aa(O,'constantSaga','array'),Aa(c,'handlers','array'),h&&Aa(h,'constantReducer','function'),b&&Aa(b,'reducer','function'),d&&Aa(d,'createReducer','function');const P={[N]:e},{constants:L,initialState:j,resetState:K,actions:x,sagaConfig:$}=Pe({apiEndPoints:P,generatorKey:N,dontResetOnLogout:C}),{componentActions:w}=We(x),{saga:Y}=Bt({sagaConfig:$,constants:L,sagaFunction:T,axiosInterceptors:m,constantSaga:O}),H=(e=>{let{reducerFunction:t,constants:a,InitialState:r,handlers:n=[],resetState:o={},isMobile:s=!1,constantReducer:i,reducerName:c}=e;const l=Re(r,vt);return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,d=arguments.length>1?arguments[1]:void 0;const{payload:{dontUpdateReducer:u,dontUpdateReducerOnCall:p,proxyFor:y}={}}=d;if(u||p)return e;switch(d.type){case'RESET_API':return Re(e,xt(o,d));case'MUTATE_STATE':return Re(e,d.payload);case'RESET_STATE':return Re(e,xt(o,d),xt(r,d));case`${c}_RESET_API`:return Re(e,xt(o,d));case`${c}_MUTATE_STATE`:return Re(e,d.payload);case`${c}_RESET_STATE`:return Re(e,xt(o,d),xt(r,d));default:{let c=Re(e);if(i){const e=i({state:c,type:E||d.type,proxyFor:y,action:d,constants:a,isMobile:s,initialState:r,resetState:o});void 0!==e&&(c=e)}const u=Re.bind({},c),{response:{method:p,type:E}={}}=d;return Object.keys(r).concat(jt).includes(E||d.type)?bt({constants:r,state:c,action:d,method:p,newState:u,updateState:Kt({authenticationConstants:a,ResetState:o,isMobileApp:s,handlers:n,initialState:l,reducerFunction:t})}):c}}}})({constants:L,InitialState:Re(f,j),reducerFunction:b,resetState:K,constantReducer:h,isMobile:D,handlers:c,reducerName:N}),F=Object.entries(L).reduce(((e,t)=>{let[a,r]=t;return{...e,[a]:r[Se.CALL]}}),{}),M={[U]:{reducerConstants:F,constants:L,initialState:f,constantActions:w,axios:m||A,resetState:K,reducerName:N}},q=u||k||!E?{safe:Ea}:{safe:Ea,getData:Nt},G={key:N,saga:Y},B={key:N,reducer:H},z=()=>{const e=a.useRef(Sa[N]);g!==ie?_a(N):e.current||l||(!function(e){let{key:t,saga:a,mode:o}=e,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3?arguments[3]:void 0;const l=r.useContext(n.ReactReduxContext);r.useEffect((()=>{const e=He(l.store);return s&&(e.injectSaga(t,{saga:a,mode:o}),'function'==typeof c&&c()),()=>{i&&e.ejectSaga(t)}}),[])}(G,!Sa[N],!1,(()=>{S&&fa(N)})),function(e,t){let{key:a,reducer:o}=e,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=r.useContext(n.ReactReduxContext);r.useEffect((()=>{s&&Ge(i.store).injectReducer(a,o,t)}),[])}(B,d,!Sa[N]),Sa[N]||(Sa[N]=!0));const t=n.useDispatch();return I&&!S||!t||(I={...M[U],actions:i.bindActionCreators(w,t),dispatch:t}),a.useState(I)[0]};if(p&&!l&&!y)return z;const X=e=>{function a(a){return r.createElement(e,t({},q,a))}a.propTypes={},a.displayName=`withReactBoilerplateReduxSagaHoc(${e.displayName||e.name||'BaseComponent'})`;const o=u||!E?null:(e=>{let{apiEndPoints:t,initialState:a,InitialState:r,generatorKey:n,constants:o}=e;return()=>s.createSelector(((e,t)=>a=>a[t]||e)(a,n),(e=>Re(Object.keys(r).reduce(((t,a)=>({...t,[a]:e[a]})),{}),Object.keys(t[n]).reduce(((t,a)=>({...t,[a]:e[o[a][v]]})),{}))))})({apiEndPoints:P,initialState:Re(f,j),InitialState:f,generatorKey:N,constants:L}),c=u||!E?null:s.createStructuredSelector({[`${N}_data`]:o()}),p=Sa[N]?void 0:Be({key:N,reducer:H},d),y=Sa[N]?void 0:Fe({key:N,saga:Y}),A=n.connect(u||!E?null:c,mt(w,M,N));return l?g!==ie?(_a(N),a):(a[_]=async t=>{const{res:a,req:r,store:n,...o}=t.ctx||t;let s={res:a,req:r,store:n,...o};return e[_]&&(s=await e[_]({...t,...mt(w,M,N)(n.dispatch)})),s||{}},A(a)):g!==ie?(_a(N),a):Sa[N]?A(a):(Sa[N]=!0,S&&fa(N),i.compose(A,p,y)(a))};return!l&&y&&R?{hook:z,hoc:X,actions:{...w},...M[U]}:!l&&y?{hook:z,hoc:X}:l&&R?{hoc:X,saga:Y,hook:z,reducer:{name:N,reducer:H},actions:{...w},...M[U]}:l?{hoc:X,saga:Y,hook:z,reducer:{name:N,reducer:H}}:R?{hoc:X,actions:{...w},...M[U]}:X}},exports.Safe=st,exports.axios=A,exports.commonConstants=Se,exports.nextStore=e=>{let{saga:t,reducer:a,middlewares:r=[],enhancers:n=[]}=e;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isServer:o,req:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=i.compose;const d={sagaMonitor:null};'production'!==process.env.NODE_ENV&&'object'==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&(c=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}));const u=E(d),p=[u].concat(r),y=[i.applyMiddleware(...p),...n],A=i.createStore(i.combineReducers(a.reduce(((e,t)=>({...e,[t.name]:t.reducer})),{})),e,c(...y));return A.runSaga=u.run,A.injectedReducers={},A.injectedSagas={},A.tasks={},!s&&o||(A.sagaTask=u.run((function*(){yield l.all(t.map(l.fork))}))),A}},exports.store=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=i.compose;'production'!==process.env.NODE_ENV&&'object'==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&(r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}));const n=E({}),o=[n].concat(t),s=[i.applyMiddleware(...o),...a],c=i.createStore(Me({}),e,r(...s));return c.runSaga=n.run,c.injectedReducers={},c.injectedSagas={},c},exports.withRedux=function(e,t){t=Da(Da({},ba),t);var a='undefined'==typeof window,r=function(r){var n=r.initialState,o=r.ctx,s=t.storeKey,i=function(){return e(t.deserializeState(n),Da(Da(Da({},o),t),{isServer:a}))};return a?i():(s in window||(window[s]=i()),window[s])};return function(e){var n;return(n=function(a){function n(e,n){var o=a.call(this,e,n)||this,s=e.initialState;return t.debug&&console.log('4. WrappedApp.render created new store with initialState',s),o.store=r({initialState:s}),o}return Ca(n,a),n.prototype.render=function(){var t=this.props,a=t.initialProps,r=(t.initialState,function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&'function'==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a}(t,['initialProps','initialState']));return ha.default.createElement(e,Da({},r,a,{store:this.store}))},n}(ha.Component)).displayName='withRedux('+(e.displayName||e.name||'App')+')',n.getInitialProps=function(n){return Ta(void 0,void 0,void 0,(function(){var o,s;return Oa(this,(function(i){switch(i.label){case 0:if(!n)throw new Error('No app context');if(!n.ctx)throw new Error('No page context');return o=r({ctx:n.ctx}),t.debug&&console.log('1. WrappedApp.getInitialProps wrapper got the store with state',o.getState()),n.ctx.store=o,n.ctx.isServer=a,s={},'getInitialProps'in e?[4,e.getInitialProps.call(e,n)]:[3,2];case 1:s=i.sent(),i.label=2;case 2:return t.debug&&console.log('3. WrappedApp.getInitialProps has store state',o.getState()),[2,{isServer:a,initialState:a?t.serializeState(o.getState()):o.getState(),initialProps:s}]}}))}))},n}},exports.withReduxSaga=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};class t extends a.Component{static async getInitialProps(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=t.ctx?t.ctx.isServer:t.isServer,r=t.ctx?t.ctx.store:t.store;let n={};return e.getInitialProps&&(n=await e.getInitialProps(t)),a&&('function'==typeof r.sagaTask.toPromise?await r.sagaTask.toPromise():await r.sagaTask.done,r.dispatch(y.END)),n}render(){return r.createElement(e,this.props)}}return d(t,'displayName',`withReduxSaga(${e.displayName||e.name||'BaseComponent'})`),t};
